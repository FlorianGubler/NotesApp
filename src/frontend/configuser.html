<div id="includedContent"></div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script> 
    $(function(){
      $("#includedContent").load("navbar.html"); 
    });
</script> 
<link rel="stylesheet" href="assets/css/configuser.css">
<script>document.title = "Mein Profil"; document.getElementById('site-title').innerHTML = "Profil konfigurieren - dddddddddddddd"</script>
<h1>Benutzerkonfiguration von <p style="display: inline;" class="use-user-name"></p></h1>
<div id="userprofile">
    <img id="profile-pic" alt="Profile Picture"/>
    <form id="newusername" class="newuserinput">
        <label>New Username</label>
        <input id="getnewusername" name="newusername" placeholder="New Username">
        <input id="getpasswordforusr" name="usrpassword" placeholder="Your Password">
        <button name="submit-usr" type="submit" >Neuer Username Speichern</button>
    </form>
    <form id="newpasswordf"  class="newuserinput">
        <label>Neues Passwort</label>
        <input type="password" id="getnewpassword" name="newpassword" placeholder="New Password">
        <label>Neues Passwort wiederholen</label>
        <input type="password" id="getnewpasswordrepeat" name="newpasswordrepeat" placeholder="New Password">
        <label>Altes Passwort eingeben</label>
        <input type="password" id="getoldpassword" name="oldpassword" placeholder="Old Password">
        <button type="submit" name="submit-paswd">Neues Passwort Speichern</button>
    </form>
</div>
<script>
    window.api.send("toMain", JSON.stringify({type: 'GetData', cmd: 'UserData', attributes: ""}));
    window.api.receive("fromMainC", (args) => {
        if(args.type == "replyUserData"){
            var response = JSON.parse(args.attributes);
            if(response != null){
                user_login = response;
                x = document.getElementsByClassName("use-user-name");
                for (var i = 0; i < x.length; i++) {
                    x[i].innerHTML = response.username;
                }
                document.getElementById("profile-pic").src = "https://dekinotu.myhostpoint.ch/notes/assets/profilepictures/" + response.profilepicture;
            }
            
        }
    });
        
</script>